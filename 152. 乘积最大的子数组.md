---
title: 152. 乘积最大的子数组
date: 2025-10-11
tags:
  - 动态规划
---
### 问题描述

[题目链接](https://leetcode.cn/problems/maximum-product-subarray/description/?envType=problem-list-v2&envId=2cktkvj)

找到一个数组中乘积最大的连续子数组

### 解题思路

#### 方法一

- 遍历数组的时候计算到目前位置的最大值
	- 由于负数的存在，所以需要维护一个最大值，和一个最小值
	- $cur\_max=max(cur\_max*nums[i], nums[i])$
	- $cur\_min=min(cur\_min*nums[i],nums[i])$
	- 当出现负数时候交换cur_max和cur_min

```python
class Solution:
    def maxProduct(self, nums: List[int]) -> int:
        ans_max = -float('inf')
        
        cur_max = -float('inf')
        cur_min = float('inf')

        for i in range(len(nums)):
            if nums[i] < 0:
                cur_max, cur_min = cur_min ,cur_max
            cur_max = max(nums[i] , cur_max * nums[i])
            cur_min = min(nums[i] , cur_min * nums[i])
            
            ans_max = max(ans_max, cur_max)
        return ans_max
```

**算法复杂度分析：**

时间复杂度：$O(n)$

空间复杂度：$O()$
