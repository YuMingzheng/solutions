---
title: 135. 分发糖果
date: 2025-04-10
tags:
  - 贪心
  - 技巧
---
### 问题描述

[题目链接](https://leetcode.cn/problems/candy/description/)

`n` 个孩子站成一排。给你一个整数数组 `ratings` 表示每个孩子的评分。

你需要按照以下要求，给这些孩子分发糖果：

- 每个孩子至少分配到 `1` 个糖果。
- 相邻两个孩子评分更高的孩子会获得更多的糖果。

请你给每个孩子分发糖果，计算并返回需要准备的 **最少糖果数目** 。

### 解题思路

#### 方法一

两次遍历：
- 第一次从左往右，每遇到一个比前一个大的值，`left_ward`的值加一
- 第二次从右往左，每遇到一个比前一个大的值，`right_ward`的值加一
最终的每人应该分发的糖果数量=`max(left_ward[i] , right_ward[i])`

```python
class Solution:
    def candy(self, ratings: List[int]) -> int:
        left_ward = [1 for _ in ratings]
        right_ward = [1 for _ in ratings]

        for i in range(1 , len(ratings)):
            if ratings[i] > ratings[i-1]:
                left_ward[i] = left_ward[i-1] + 1
        for i in range(len(ratings)-2 , -1,-1):
            if ratings[i] > ratings[i + 1]:
                right_ward[i] = right_ward[i + 1] + 1
        
        ans = [0 for _ in ratings]
        for i in range(len(ratings)):
            ans[i] = max(left_ward[i] , right_ward[i])
        return sum(ans)
```

**算法复杂度分析：**

时间复杂度：$O()$

空间复杂度：$O()$
