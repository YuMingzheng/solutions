---
title: 279. 完全平方数
date: 2025-04-01
tags:
  - 动态规划
  - 背包DP
---
### 问题描述

[题目链接](https://leetcode.cn/problems/perfect-squares/description/?envType=study-plan-v2&envId=top-100-liked)

给一个整数`n`返回和为`n`的完全平方数的最少数量

### 解题思路

#### 方法一

使用两层for循环（因为很难列出来`[1,4,9,16,25,...]`所有的取值）

1. 确定dp数组（dp table）以及下标的含义
	1. `int[] dp = new int[n+1]`表示和为i的完全平方数的最少数量
2. 确定递推公式
	1. $dp[i]=min(dp[i] , dp[i - j*j]+1)$
3. dp数组如何初始化
	1. 因为最多的数量肯定是n个1，因此可以都初始化为n
4. 确定遍历顺序
	1. 外层for循环遍历i，表示和为i的完全平方数的最少数量
		1. 内层for循环枚举所有可能的j
5. 举例推导dp数组

```java
class Solution {
    public int numSquares(int n) {
        int[] dp = new int[n+ 1];

        for(int i = 1 ; i <= n ; i ++){
            dp[i] = n;
            for(int j =1; j * j <= i ; j ++){
                dp[i] = Math.min(dp[i] , dp[i - j*j] + 1);
            }
        }
        return dp[n];
    }
}
```

**算法复杂度分析：**

时间复杂度：$O()$

空间复杂度：$O()$
